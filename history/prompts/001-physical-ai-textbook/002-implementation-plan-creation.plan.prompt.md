---
id: 002
title: Implementation Plan Creation
stage: plan
date: 2025-12-16
surface: agent
model: claude-opus-4-5-20251101
feature: 001-physical-ai-textbook
branch: 001-physical-ai-textbook
user: architect
command: /sp.plan
labels: ["plan", "implementation", "docusaurus", "mermaid", "ros2", "gazebo"]
links:
  spec: specs/001-physical-ai-textbook/spec.md
  ticket: null
  adr: null
  pr: null
files:
  - specs/001-physical-ai-textbook/plan.md
  - specs/001-physical-ai-textbook/research.md
  - specs/001-physical-ai-textbook/data-model.md
  - specs/001-physical-ai-textbook/quickstart.md
  - specs/001-physical-ai-textbook/contracts/topic-template.mdx
  - specs/001-physical-ai-textbook/contracts/assessment-template.mdx
  - CLAUDE.md
tests:
  - N/A (planning phase, no code tests)
---

## Prompt

**Objective:** Create a step-by-step implementation plan to build Modules 1 & 2 of the "Physical AI & Humanoid Robotics" textbook.

**Context & Constraints:**
1. **Source of Truth:** Strictly follow `spec.md` for content requirements and `constitution.md` for architectural rules.
2. **Working Directory:** The project is located in `book/`. **Do NOT** plan to run `npx create-docusaurus`. Instead, start by verifying the existing `book/` directory structure.
3. **Safety:** All file operations must happen inside `book/`.

**Required Plan Phases:**

**Phase 1: Environment & Configuration**
* Step 1: Verify the `book/` folder exists and contains a valid Docusaurus project (`package.json`, `docusaurus.config.js`).
* Step 2: Install `@docusaurus/theme-mermaid` to support the required visual diagrams.
* Step 3: Update `book/docusaurus.config.js` to enable Mermaid, set the default theme to Dark Mode (Cyberpunk style), and configure the GitHub Pages deployment settings.

**Phase 2: Content Scaffolding (The Skeleton)**
* Step 4: Create the folder structure `book/docs/module-01-ros2` and `book/docs/module-02-digital-twin`.
* Step 5: Create placeholder MDX files for all chapters listed in the Spec (e.g., `01-architecture.mdx`, `02-python-agents.mdx`, etc.) to ensure the sidebar logic works.

**Phase 3: Content Implementation (The Flesh)**
* Step 6: Write the content for **Module 1 (ROS 2)**. Ensure it includes:
    * Conceptual explanations ("Nervous System" analogy).
    * Mermaid diagrams for Node graphs.
    * Python/ROS 2 code blocks with `rclpy`.
* Step 7: Write the content for **Module 2 (Digital Twin)**. Ensure it includes:
    * Physics simulation details (Gazebo).
    * Hardware warnings (RTX requirements).
* Step 8: Update the Landing Page (`book/src/pages/index.js`) with the specific "Embodied Intelligence" hero text and hardware warnings.

**Phase 4: Verification & Deployment**
* Step 9: Configure `book/sidebars.js` to autogenerate the sidebar from the folder structure.
* Step 10: Run a local build test (`npm run build` inside `book/`).
* Step 11: Create the GitHub Actions workflow file (`.github/workflows/deploy.yml`) for deployment.

## Response snapshot

Created comprehensive implementation plan with 4 phases and supporting artifacts:

**Phase 0 Research (research.md)**:
- Mermaid integration: @docusaurus/theme-mermaid with markdown config
- Dark mode: colorMode.defaultMode: 'dark'
- GitHub Pages: url/baseUrl configuration + Actions workflow
- MDX structure: Standardized template per Pedagogical Standards
- Sidebar: Autogenerated with custom category labels

**Phase 1 Design (data-model.md + contracts/)**:
- Defined 4 entities: Module, Topic, Assessment, Diagram
- Created topic-template.mdx with required 7 sections per constitution
- Created assessment-template.mdx with evaluation criteria
- Mapped all files: 16 total (3 config, 2 landing page, 10 MDX, 1 workflow)

**Constitution Check: ALL 7 PRINCIPLES PASS**:
- I. Embodied Intelligence First ‚úÖ
- II. Curriculum Module Integrity ‚úÖ
- III. Concept First, Code Second ‚úÖ
- IV. Visual Architecture (Mermaid) ‚úÖ
- V. Hardware-Aware Content ‚úÖ
- VI. Syllabus Boundary Enforcement ‚úÖ
- VII. Operational Constraints ‚úÖ

**Plan Structure**:
- Phase 1: Environment & Configuration (7 steps)
- Phase 2: Content Scaffolding (8 steps)
- Phase 3: Content Implementation (10 steps)
- Phase 4: Verification & Deployment (7 steps)

## Outcome

- ‚úÖ Impact: Complete implementation plan with 4 phases covering configuration, scaffolding, content, and deployment
- üß™ Tests: N/A (planning phase)
- üìÅ Files: plan.md, research.md, data-model.md, quickstart.md, contracts/topic-template.mdx, contracts/assessment-template.mdx
- üîÅ Next prompts: `/sp.tasks` to generate detailed task list for implementation
- üß† Reflection: Plan passes all constitution gates; existing Docusaurus 3.9.2 project verified; Mermaid integration straightforward

## Evaluation notes (flywheel)

- Failure modes observed: None - clean planning phase
- Graders run and results (PASS/FAIL): Constitution Check ALL PASS
- Prompt variant (if applicable): Standard /sp.plan workflow with user-specified phases
- Next experiment (smallest change to try): Consider adding more detailed Mermaid diagram examples in content phase
